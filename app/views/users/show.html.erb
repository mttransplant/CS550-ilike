<% provide(:title, full_name(@user)) %>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gmaps.js/0.4.9/gmaps.min.js"></script>
<div class="alert alert-info" role="alert"><b>Welcome! <%= full_name(@user) %></b>, here are few places you might wanna check out</div>
<div class="row">
   <div id = "eventlist" class="col-sm-4">
      Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.Lorem ipsum accumsan porta libero dapibus suscipit convallis phasellus vulputate, luctus primis viverra egestas tempor bibendum ac egestas, ad faucibus donec auctor conubia malesuada sem fermentum ad consectetur vel nostra ultrices orci elementum elit varius.
      Praesent litora ante integer pellentesque tempus sagittis ad nisl fusce pulvinar, euismod etiam metus libero eu mollis vel in congue, nec velit eleifend senectus iaculis in arcu metus potenti ullamcorper suscipit vestibulum class.
      Aliquam purus euismod aptent per rutrum euismod consequat magna sit taciti justo, semper bibendum mi rhoncus venenatis vitae sagittis vel eros per vehicula posuere etiam elit interdum turpis.
      Vehicula condimentum euismod tempor consequat nunc luctus inceptos, adipiscing hac donec eget dictum quisque euismod ornare, erat quis vitae nisi pulvinar eget adipiscing consectetur fames auctor elit ornare sollicitudin volutpat sollicitudin hac.
      Vestibulum lectus elit curabitur at conubia diam feugiat lorem nullam massa hac aenean curabitur platea, tempor sodales habitasse senectus taciti consequat platea ut tempor congue volutpat etiam vulputate.
   </div>
   
   <div class="col-sm-8">
      <div id="over_map">
         <div class="col-lg-5">
            <div class="input-group">
               <input id ="new-loc" type="text" class="form-control" placeholder="Change current location">
               <span class="input-group-btn">
                  <button class="btn btn-primary" type="button" onclick="changeAddress()">
                     Go!
                  </button>
                  </span>
            </div><!-- /input-group -->
         </div><!-- /.col-lg-6 -->
      </div>

      <div id="geolocation"></div>
   </div>
</div>

<script type="text/javascript">
   var currentDisplayLat;
   var currentDisplayLng;
   
   var handler = Gmaps.build('Google');
   handler.buildMap({ internal: {id: 'geolocation'} }, function(){
     if(navigator.geolocation)
       navigator.geolocation.getCurrentPosition(displayOnMap);
   });
   
   function displayOnMap(position){
      currentDisplayLat = position.coords.latitude;
      currentDisplayLng = position.coords.longitude;
      
      var marker = handler.addMarker({
         lat: position.coords.latitude,
         lng: position.coords.longitude
      });
     handler.map.centerOn(marker);
   };
   
   function changeAddress(){
      var tempLocation = document.getElementById("new-loc").value;
       GMaps.geocode({
         address: tempLocation,
         callback: function(results, status){
            var firstResult = results[0];
            var marker = handler.addMarker({
               lat: firstResult.geometry.location.lat(),
               lng: firstResult.geometry.location.lng()
               });
            currentDisplayLat = firstResult.geometry.location.lat();
            currentDisplayLng = firstResult.geometry.location.lng();
            handler.map.centerOn(marker);
         }});
   }
   
</script>


<!--<div class="row">
  <aside class="col-md-4">
    <section class="user-info">
      <h1>
     
        
      </h1>      
    </section>
  </aside>
</div> -->